import{_ as f}from"./D-KUjpX5.js";import{B as x,u as v}from"./B9-vLc8n.js";import{f as w}from"./QzWGY4mI.js";import{_ as y,u as k,e as b,f as p,c as r,a as e,g as B,b as C,F as g,r as F,h as u,o as a,i as L,w as N,t as n}from"./BXlpFhld.js";import"./kT4pw4b7.js";const D={class:"home"},V={class:"promo-grid"},A={class:"eyebrow"},E={class:"description"},P={class:"action"},W={key:0,class:"error-text"},j={__name:"index",async setup(H){let s,c;k({title:"Fusionist — Palantir"});const{data:l,error:m}=([s,c]=b(async()=>v("home-banners",async()=>{const{data:o}=await w();return o?.collections||{}},{server:!0})),s=await s,c(),s),_=p(()=>{const o=l.value||{};return Object.values(o).reduce((d,i)=>d+(i?.count_on_sale||0),0)}),h=p(()=>[{title:"Wiki",description:"Dive into the encyclopaedia for Cores, Weapons and the upcoming Buffs.",hint:"Knowledge base",action:"Explore wiki",to:"/wiki"},{title:"Collections",description:"Live floor prices, filters and analytics across six Fusionist drops.",hint:"Marketplace",action:_.value?`${_.value} items listed`:"Browse items",to:"/collections"}]);return(o,d)=>{const i=f;return a(),r("section",D,[e("div",V,[(a(!0),r(g,null,F(h.value,t=>(a(),L(i,{key:t.to,to:t.to,class:"promo-card"},{default:N(()=>[e("p",A,n(t.hint),1),e("h2",null,n(t.title),1),e("p",E,n(t.description),1),e("span",P,n(t.action)+" →",1)]),_:2},1032,["to"]))),128))]),u(m)?(a(),r("p",W,"Failed to load stats. Live data will appear on client.")):B("",!0),C(x,{"initial-banners":u(l)||{}},null,8,["initial-banners"])])}}},$=y(j,[["__scopeId","data-v-a6cc662b"]]);export{$ as default};
