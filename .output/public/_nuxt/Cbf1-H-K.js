import{p as Ae,k as Se,_ as X,f as C,l as re,m as z,c as f,o as c,a as s,g as F,t as $,F as j,r as I,n as T,q as oe,i as ue,w as G,d as R,u as je,s as V,v as Be,b as U,x as le,h as x,y as ae,z as ie,A as Ie}from"./BXlpFhld.js";import{_ as qe}from"./CW4rylCo.js";import{u as Y,a as ce,c as Me,_ as K,W as ze,b as Re,d as Fe,e as Ne,A as Te,f as Pe,g as Ve}from"./CAeaQecl.js";import{a as Ue}from"./QzWGY4mI.js";const de=Ae("/wiki/Cards/Img_CoreBGFX.png"),ne={by:"id",dir:"asc"},De=Se("wikiCore",{state:()=>({items:[],count:0,loading:!1,error:"",loadedLocale:"en",filters:{search:"",rares:[],jobs:[],labels:[],hasBuffId:null,uniq:!1},sort:{...ne},page:1,pageSize:30,rawText:""}),getters:{facets(t){const o=new Set;for(const m of t.items)m.CoreRare!=null&&o.add(m.CoreRare);return{rares:Array.from(o).sort((m,u)=>m-u)}},makeLocalizers:()=>t=>({nameOf:o=>o?.i18n?.name?.[t]??o?.englishName??"",descOf:o=>o?.i18n?.desc?.[t]??""}),filtered(t){const o=t.filters,m=(o.search||"").trim().toLowerCase(),u=new Set(o.rares||[]),w=new Set(o.jobs||[]),h=new Set(o.labels||[]),_=o.hasBuffId,{nameOf:p,descOf:y}=this.makeLocalizers(this.loadedLocale),g=Array.from(w).reduce((v,A)=>v|A,0);return t.items.filter(v=>{if(v.CoreLv!==1||u.size&&!u.has(v.CoreRare))return!1;if(w.size){if(o.uniq){if(v.JobLimit!==g)return!1}else if((v.JobLimit&g)===0)return!1}if(h.size&&!(Array.isArray(v.Tips_Label)?v.Tips_Label:[]).some(b=>h.has(b))||_!=null&&!(Array.isArray(v.Buff_Display)?v.Buff_Display:[]).some(S=>S?.BuffId===_))return!1;if(m){const A=(v.englishName||"").toLowerCase(),S=String(p(v)||"").toLowerCase(),b=String(y(v)||"").toLowerCase();if(!A.includes(m)&&!S.includes(m)&&!b.includes(m))return!1}return!0})},sorted(){const t=[...this.filtered],{by:o,dir:m}=this.sort,u=m==="desc"?-1:1,{nameOf:w}=this.makeLocalizers(this.loadedLocale);return t.sort((h,_)=>{let p,y;switch(o){case"CoreRare":p=h.CoreRare,y=_.CoreRare;break;case"CoreLv":p=h.CoreLv,y=_.CoreLv;break;case"JobLimit":p=h.JobLimit,y=_.JobLimit;break;case"name":p=w(h),y=w(_);break;default:p=h.id,y=_.id;break}return p==null&&y==null?0:p==null?-1*u:y==null?1*u:typeof p=="string"&&typeof y=="string"?p.localeCompare(y)*u:(p===y?0:p<y?-1:1)*u}),t},pageItems(){const t=this.page*this.pageSize;return this.sorted.slice(0,t)},filteredTotal(){return this.sorted.length},hasNextPage(){return this.page*this.pageSize<this.filteredTotal},totalPages(){return Math.max(1,Math.ceil(this.sorted.length/this.pageSize))}},actions:{async load(t="en"){this.loadedLocale!==t&&(this.page=1,this.sort={...ne},this.filters.search=""),this.loading=!0,this.error="",this.rawText="";try{const{data:o}=await Ue(t);this.items=Array.isArray(o?.cores)?o.cores:[],this.count=Number(o?.count||this.items.length||0),this.loadedLocale=t,this.rawText=JSON.stringify(o,null,2)}catch(o){this.error=o?.response?.data?.detail||o?.message||"Request failed",this.items=[],this.count=0}finally{this.loading=!1}},applyFilters(t={}){"rares"in t&&(this.filters.rares=Array.isArray(t.rares)?t.rares:[]),"jobs"in t&&(this.filters.jobs=Array.isArray(t.jobs)?t.jobs:[]),"labels"in t&&(this.filters.labels=Array.isArray(t.labels)?t.labels:[]),"uniq"in t&&(this.filters.uniq=!!t.uniq),"search"in t&&(this.filters.search=t.search??""),"hasBuffId"in t&&(this.filters.hasBuffId=t.hasBuffId??null),this.page=1},nextPage(){this.hasNextPage&&(this.page+=1)},setSearch(t){this.filters.search=t??"",this.page=1},setRares(t){this.filters.rares=Array.isArray(t)?t:[],this.page=1},setJobs(t){this.filters.jobs=Array.isArray(t)?t:[],this.page=1},setLabels(t){this.filters.labels=Array.isArray(t)?t:[],this.page=1},setUniq(t){this.filters.uniq=!!t,this.page=1},setBuffId(t){const o=t==null||t===""?null:Number(t);this.filters.hasBuffId=Number.isFinite(o)?o:null,this.page=1},setSort(t,o){this.sort.by=t||this.sort.by,this.sort.dir=o||this.sort.dir,this.page=1},setPage(t){this.page=Math.max(1,Number(t||1))},setPageSize(t){this.pageSize=Math.min(200,Math.max(5,Number(t||30))),this.page=1},resetFilters(){this.filters={search:"",rares:[],jobs:[],labels:[],hasBuffId:null,uniq:!1},this.page=1}}}),Je={class:"core-card"},Oe={class:"hero"},Ee={class:"hero-art"},We=["src","alt"],He={class:"hero-copy"},Ge={class:"job-strip"},Ke=["src"],Xe={key:0,class:"label-strip"},Ye={key:1,class:"section-block"},Qe=["innerHTML"],Ze={key:2,class:"section-block"},es=["src"],ss={class:"buff-copy"},ts=["innerHTML"],ls=["innerHTML"],as={__name:"WikiCoreCard",props:{core:{type:Object,required:!0},locale:{type:String,default:"en"}},setup(t){const o=t,m=Y(),u=ce();function w(n,i){const r=u.byId?.[n];return r&&(r.Buff_LV==null||Number(r.Buff_LV)===Number(i))?r:(Array.isArray(u.items)?u.items:[]).find(d=>d.id===n&&Number(d.Buff_LV)===Number(i))||r||null}const h=C(()=>String(o.locale||"en")),_=Me({locale:h.value,findBuff:w});re(()=>{m.load(h.value),u.load(h.value)}),z(h,n=>{m.load(n),u.load(n),_.setLocale?.(n)});const p=C(()=>o.core?.i18n?.name?.[h.value]||o.core?.englishName||`Core #${o.core?.id}`),y=C(()=>{const n=o.core?.i18n?.desc?.[h.value]||"";return _.format(n,o.core?.Upgrade_Value||[])}),g=C(()=>`/wiki/Cores/${o.core?.Icon}.png`),v=[1,2,4,8,16],A=C(()=>{const n=Number(o.core?.JobLimit||0);return v.map(i=>({id:i,allowed:(n&i)!==0,src:`/wiki/Job/MechClass_${i}_64.png`}))}),S=C(()=>(Array.isArray(o.core?.Buff_Display)?o.core.Buff_Display:[]).map(i=>{const r=w(i?.BuffId,i?.BuffLv),k=Array.isArray(r?.Upgrade_Value)&&r.Upgrade_Value.length?r.Upgrade_Value:o.core?.Upgrade_Value||[],d=r?.i18n?.name?.[h.value]||r?.englishName||`Buff ${i?.BuffId}`,q=r?.i18n?.desc?.[h.value]||"";return{icon:`/wiki/Buffs/${r?.Icon||"Icon_Buff_Unknown"}.png`,nameHtml:_.format(d,k),descHtml:_.format(q,k)}})),b=C(()=>(Array.isArray(o.core?.Tips_Label)?o.core.Tips_Label:[]).map(i=>m.byId?.[i]).filter(Boolean).map(i=>({id:i.ID,text:i.i18n?.[h.value]||i.Name?.text||String(i.ID),color:i.LabelImageColor||"5E5E5E"})));return(n,i)=>(c(),f("article",Je,[s("div",Oe,[s("div",Ee,[i[0]||(i[0]=s("img",{src:K,alt:"",class:"hero-bg","aria-hidden":"true",draggable:"false"},null,-1)),s("img",{src:g.value,alt:p.value,class:"hero-core",loading:"lazy",draggable:"false"},null,8,We),i[1]||(i[1]=s("img",{src:de,alt:"",class:"hero-fx","aria-hidden":"true",draggable:"false"},null,-1))]),s("div",He,[i[2]||(i[2]=s("p",{class:"eyebrow"},"Fusion core",-1)),s("h2",null,$(p.value),1)])]),s("div",Ge,[(c(!0),f(j,null,I(A.value,r=>(c(),f("div",{key:r.id,class:T(["job-pill",{"is-off":!r.allowed}])},[s("img",{src:r.src,alt:"",loading:"lazy"},null,8,Ke)],2))),128))]),b.value.length?(c(),f("div",Xe,[(c(!0),f(j,null,I(b.value,r=>(c(),f("span",{key:r.id,class:"label-chip",style:oe({borderColor:`#${r.color}`,backgroundColor:`#${r.color}22`})},$(r.text),5))),128))])):F("",!0),y.value?(c(),f("section",Ye,[i[3]||(i[3]=s("h3",{class:"section-title"},"Overview",-1)),s("div",{class:"richtext text-base leading-relaxed",innerHTML:y.value},null,8,Qe)])):F("",!0),S.value.length?(c(),f("section",Ze,[i[4]||(i[4]=s("h3",{class:"section-title"},"Buffs",-1)),(c(!0),f(j,null,I(S.value,(r,k)=>(c(),f("div",{class:"buff-card",key:k},[s("img",{src:r.icon,alt:"",loading:"lazy"},null,8,es),s("div",ss,[s("div",{class:"richtext buff-name",innerHTML:r.nameHtml},null,8,ts),s("div",{class:"richtext buff-desc",innerHTML:r.descHtml},null,8,ls)])]))),128))])):F("",!0)]))}},is=X(as,[["__scopeId","data-v-ed25b18e"]]),ns={class:"space-y-7 pb-8"},rs={class:"filter-card"},os={class:"flex items-center justify-between gap-4"},us={class:"text-xs text-white/50"},cs={class:"tiles-grid"},ds=["checked","onChange"],fs={class:"tile-label"},bs={class:"filter-card"},ms={class:"flex items-center justify-between gap-4"},vs={class:"inline-flex items-center gap-2 cursor-pointer select-none text-xs"},hs=["checked"],gs={class:"tiles-grid"},ps=["checked","onChange"],ys={class:"tile-label"},xs={class:"mt-3 text-xs leading-relaxed text-white/70"},_s={class:"flex items-center justify-between gap-4"},ks={class:"sec-title"},Cs={class:"text-xs text-white/50"},ws={class:"tiles-grid"},Ls=["checked","onChange"],$s={class:"tile-label"},As={__name:"WikiCoreFilterPanel",props:{open:{type:Boolean,default:!1},locale:{type:String,default:"en"},rares:{type:Array,default:()=>[]},jobs:{type:Array,default:()=>[]},labels:{type:Array,default:()=>[]},uniq:{type:Boolean,default:!1}},emits:["close","reset","update:rares","update:jobs","update:labels","update:uniq"],setup(t,{emit:o}){const m=t,u=o,w=Y(),h=b=>w.load(b);re(()=>h(m.locale)),z(()=>m.locale,b=>h(b));const _=[{label:"Common",value:1},{label:"Elite",value:2},{label:"Epic",value:4},{label:"Legend",value:8},{label:"Mythical",value:16}],p=[{label:"Striker",value:1},{label:"Keystone",value:2},{label:"Buster",value:4},{label:"Bullseye",value:8},{label:"Apostle",value:16}],y=C(()=>{const b=Array.isArray(w.items)?w.items:[],n=new Map;for(const r of b){const k=(r.CoreFilter||"").trim();k&&(n.has(k)||n.set(k,[]),n.get(k).push(r))}const i=[];for(const[r,k]of n.entries()){const d=r.endsWith("Filter")?r.slice(0,-6):r,q=k.map(B=>({value:B.ID,label:B.i18n?.[m.locale]||B.Name?.text||String(B.ID),color:B.LabelImageColor||"5E5E5E"})).sort((B,D)=>B.label.localeCompare(D.label));q.length&&i.push({key:r,title:d,options:q})}return i.sort((r,k)=>r.title.localeCompare(k.title)),i}),g=(b,n)=>{const i=new Set(b==="rares"?m.rares:b==="jobs"?m.jobs:b==="labels"?m.labels:[]);i.has(n)?i.delete(n):i.add(n);const r=Array.from(i);b==="rares"&&u("update:rares",r),b==="jobs"&&u("update:jobs",r),b==="labels"&&u("update:labels",r)},v=C(()=>(m.rares?.length||0)+(m.jobs?.length||0)+(m.labels?.length||0)+(m.uniq?1:0));function A(){u("update:rares",[]),u("update:jobs",[]),u("update:labels",[]),u("update:uniq",!1),u("reset")}const S=(b,n)=>Array.isArray(b)&&b.includes(n);return(b,n)=>(c(),ue(ze,{open:t.open,title:"Core tuning",count:v.value,onClose:n[1]||(n[1]=i=>b.$emit("close")),onReset:A},{default:G(()=>[s("div",ns,[s("section",rs,[s("div",os,[n[2]||(n[2]=s("h4",{class:"sec-title"},"Rarity",-1)),s("span",us,$(_.length)+" tiers",1)]),s("div",cs,[(c(),f(j,null,I(_,i=>s("label",{key:"rares-"+i.value,class:T(["tile",{"is-active":S(t.rares,i.value)}])},[s("input",{type:"checkbox",class:"sr-only",checked:t.rares.includes(i.value),onChange:r=>g("rares",i.value)},null,40,ds),s("span",fs,$(i.label),1)],2)),64))])]),s("section",bs,[s("div",ms,[n[4]||(n[4]=s("h4",{class:"sec-title"},"Jobs",-1)),s("label",vs,[s("input",{type:"checkbox",class:"accent-[#63B4C8]",checked:t.uniq,onChange:n[0]||(n[0]=i=>b.$emit("update:uniq",i.target.checked))},null,40,hs),n[3]||(n[3]=s("span",{class:"opacity-80"},"Unique only",-1))])]),s("div",gs,[(c(),f(j,null,I(p,i=>s("label",{key:"jobs-"+i.value,class:T(["tile",{"is-active":S(t.jobs,i.value)}])},[s("input",{type:"checkbox",class:"sr-only",checked:t.jobs.includes(i.value),onChange:r=>g("jobs",i.value)},null,40,ps),s("span",ys,$(i.label),1)],2)),64))]),s("p",xs,[t.uniq?(c(),f(j,{key:0},[n[5]||(n[5]=R(" Shows only cores available to ",-1)),n[6]||(n[6]=s("b",null,"exactly one",-1)),n[7]||(n[7]=R(" class or to the ",-1)),n[8]||(n[8]=s("b",null,"combination",-1)),n[9]||(n[9]=R(" of the selected classes. ",-1))],64)):(c(),f(j,{key:1},[n[10]||(n[10]=R(" A core matches if it's available to ",-1)),n[11]||(n[11]=s("i",null,"any",-1)),n[12]||(n[12]=R(" of the selected classes. ",-1))],64))])]),(c(!0),f(j,null,I(y.value,i=>(c(),f("section",{key:i.key,class:"filter-card"},[s("div",_s,[s("h4",ks,$(i.title),1),s("span",Cs,$(i.options.length)+" labels",1)]),s("div",ws,[(c(!0),f(j,null,I(i.options,r=>(c(),f("label",{key:`label-${i.key}-${r.value}`,class:T(["tile",{"is-active":S(t.labels,r.value)}]),style:oe({"--tile-accent":`#${r.color}`})},[s("input",{type:"checkbox",class:"sr-only",checked:t.labels.includes(r.value),onChange:k=>g("labels",r.value)},null,40,Ls),s("span",$s,$(r.label),1)],6))),128))])]))),128))])]),_:1},8,["open","count"]))}},Ss=X(As,[["__scopeId","data-v-519815ae"]]),js={class:"mx-auto w-full max-w-[98vw] px-2 sm:px-4 lg:px-6 space-y-4"},Bs={class:"space-y-3"},Is={class:"flex items-center justify-between"},qs=["onClick","title"],Ms=["src"],zs={class:"relative z-10 text-xs font-semibold uppercase tracking-[0.3em] text-white/70"},Rs={class:"flex flex-wrap items-center gap-3"},Fs={class:"order-1 sm:order-1"},Ns={key:0,class:"text-xs sm:text-sm opacity-70"},Ts={class:"order-2 sm:order-3 ml-auto text-sm opacity-80 flex items-center gap-2"},Ps={class:"font-medium"},Vs={class:"order-4 sm:order-2 basis-full sm:basis-auto w-full sm:w-auto sm:flex-1 flex items-center gap-3"},Us={class:"relative flex-1 min-w-[240px]"},Ds={key:0,class:"text-sm opacity-80"},Js={key:1,class:"text-sm text-red-400"},Os={key:2},Es={class:"hidden sm:grid gap-4 grid-cols-[repeat(auto-fill,minmax(200px,1fr))]"},Ws=["onClick","title"],Hs={class:"absolute inset-0 overflow-hidden"},Gs=["src"],Ks={class:"absolute bottom-0 left-0 right-0 px-2 py-1 text-[11px] bg-black/40 backdrop-blur-sm"},Xs={class:"flex items-center justify-center text-center"},Ys=["title"],Qs={class:"flex flex-col gap-3 sm:hidden"},Zs=["onClick"],et={class:"mobile-art"},st=["src"],tt={class:"mobile-copy"},lt={class:"mobile-title"},at={key:0,class:"level-control level-control--header"},it={class:"level-value"},nt={__name:"cores",setup(t){const o=Be(),m=Ie(),u=De(),w=Y(),h=ce();je({title:"Wiki â€” Cores"});const _=Re("All Cores"),p=V(0);async function y(l=g.value){const e=l??g.value;await Promise.all([u.load(e),w.load(e),h.load(e)]),B()}const{locale:g,search:v,isMobile:A,showFilterPanel:S,modalOpen:b,toggleFilterPanel:n,setFilterPanelOpen:i,setModalOpen:r}=Fe({initialLocale:o.query.locale??"en",loadResources:y,onSearchChange:()=>{u.page=1}});function k(l={}){return{rares:Array.isArray(l.rares)?[...l.rares]:[],jobs:Array.isArray(l.jobs)?[...l.jobs]:[],labels:Array.isArray(l.labels)?[...l.labels]:[],uniq:!!l.uniq}}const d=V(k());let q=!1;function B(){q=!0,d.value=k(u.filters||{}),q=!1}z(d,l=>{q||u.applyFilters(l)},{deep:!0}),z(()=>d.value.jobs,l=>{const e=Array.isArray(l)?l:[];p.value=e.length===1?e[0]:0});const D=C(()=>{const l=u.filters||{};let e=0;return Array.isArray(l.rares)&&(e+=l.rares.length),Array.isArray(l.jobs)&&(e+=l.jobs.length),Array.isArray(l.labels)&&(e+=l.labels.length),l.uniq&&(e+=1),l.hasBuffId!=null&&(e+=1),e}),fe=C(()=>{const l=Object.create(null),e=d.value?.labels||[];for(const a of e){const L=w.byId?.[a];L&&(l[a]={id:a,text:L.i18n?.[g.value]||L.Name?.text||String(a),colorHex:L.LabelImageColor||"5E5E5E"})}return l});function be(l){p.value=l,d.value.jobs=l===0?[]:[l]}function me(){v.value="",u.resetFilters(),B(),y()}function ve(){v.value="",u.resetFilters(),B()}z(g,l=>{m.replace({query:{...o.query,locale:l||void 0}})}),z(()=>o.query.locale,l=>{const e=l??"en";e!==g.value&&(g.value=e)});const E=C(()=>String(v.value||"").trim().toLowerCase()),P=l=>String(l||"").toLowerCase();function he(l){if(!E.value)return!0;const e=E.value,a=String(g.value||"en"),L=P(l?.englishName),_e=P(l?.i18n?.name?.[a]),ke=P(l?.i18n?.desc?.[a]);if(L.includes(e)||_e.includes(e)||ke.includes(e))return!0;const Ce=Array.isArray(l?.Buff_Display)?l.Buff_Display:[];for(const we of Ce){const O=h.byId?.[we?.BuffId];if(!O)continue;const Le=P(O?.i18n?.name?.[a]||O?.englishName),$e=P(O?.i18n?.desc?.[a]);if(Le.includes(e)||$e.includes(e))return!0}return!1}const W=C(()=>{const l=u.sorted;return Array.isArray(l)?E.value?l.filter(he):l:[]}),Q=C(()=>W.value.slice(0,u.page*u.pageSize));function Z(l){return`/wiki/Cores/${l?.Icon}.png`}function H(l){const e=String(g.value||"en");return l?.i18n?.name?.[e]||l?.englishName||`ID ${l?.id}`}function ee(l,e){return u.items.find(a=>a.id===l&&a.CoreLv===e)||u.items.find(a=>a.id===l)||null}const M=V(1),J=V(null),N=V(null);function se(l){J.value=l.id,M.value=l.CoreLv||1,N.value=ee(l.id,M.value)||l,r(!0)}function ge(){r(!1),J.value=null,N.value=null}z(M,l=>{const e=Math.min(10,Math.max(1,Number(l||1)));if(e!==l&&(M.value=e),b.value&&J.value!=null){const a=ee(J.value,e);a&&(N.value=a)}});const pe=C(()=>W.value.length),te=C(()=>u.page*u.pageSize<W.value.length),ye=C(()=>u.loading);function xe(){te.value&&u.nextPage()}return(l,e)=>(c(),f("section",js,[s("header",Bs,[s("div",Is,[e[14]||(e[14]=s("h1",{class:"text-2xl font-semibold"},"Wiki - Cores",-1)),U(Ne,{modelValue:x(g),"onUpdate:modelValue":e[0]||(e[0]=a=>le(g)?g.value=a:null)},null,8,["modelValue"])]),s("div",{class:T(["grid gap-3",x(A)?"grid-cols-3":"grid-cols-6"])},[(c(!0),f(j,null,I(x(_),a=>(c(),f("button",{key:a.id,class:T(["job-card group",[x(A)?"h-24":"h-28",p.value===a.id?"is-active":""]]),onClick:L=>be(a.id),title:a.label},[s("img",{src:a.img,class:"absolute inset-0 h-full w-full object-cover opacity-90",alt:""},null,8,Ms),e[15]||(e[15]=s("div",{class:"absolute inset-0",style:{"background-image":"url('/wiki/Mechs/Img_BigScreenBG.png')","background-size":"cover",opacity:".25"}},null,-1)),e[16]||(e[16]=s("div",{class:"absolute inset-0 bg-gradient-to-br from-black/70 via-black/40 to-transparent transition-opacity group-hover:opacity-60"},null,-1)),s("span",zs,$(a.label),1)],10,qs))),128))],2),s("div",Rs,[s("div",Fs,[s("button",{onClick:e[1]||(e[1]=(...a)=>x(n)&&x(n)(...a)),class:"filter-toggle"},[e[17]||(e[17]=s("img",{src:qe,class:"w-5 sm:w-6",alt:"filter"},null,-1)),e[18]||(e[18]=R(" Filters ",-1)),D.value?(c(),f("span",Ns,"("+$(D.value)+")",1)):F("",!0)])]),s("div",Ts,[e[20]||(e[20]=s("span",{class:"inline-block w-2 h-2 rounded-full bg-emerald-400 animate-pulse"},null,-1)),s("span",null,[e[19]||(e[19]=R("Items: ",-1)),s("span",Ps,$(pe.value),1)])]),s("div",Vs,[s("div",Us,[ae(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>le(v)?v.value=a:null),type:"text",inputmode:"search",placeholder:"Search by name or description...",class:"search-input"},null,512),[[ie,x(v),void 0,{trim:!0}]]),e[22]||(e[22]=s("svg",{class:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 opacity-70",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M10 4a6 6 0 104.472 10.028l4.25 4.25 1.414-1.414-4.25-4.25A6 6 0 0010 4zm-4 6a4 4 0 118 0 4 4 0 01-8 0z"})],-1)),x(v)?(c(),f("button",{key:0,onClick:e[3]||(e[3]=a=>v.value=""),class:"absolute right-2.5 top-1/2 grid h-6 w-6 -translate-y-1/2 place-items-center rounded-full bg-white/5 text-white/70 transition hover:bg-white/15",title:"Clear"},[...e[21]||(e[21]=[s("svg",{class:"w-3.5 h-3.5 opacity-80",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M6.225 4.811L4.811 6.225 9.586 11l-4.775 4.775 1.414 1.414L11 12.414l4.775 4.775 1.414-1.414L12.414 11l4.775-4.775-1.414-1.414L11 9.586z"})],-1)])])):F("",!0)]),s("button",{onClick:me,class:"ghost-btn shrink-0"}," Reload ")])])]),U(Te,{locale:x(g),rares:d.value.rares,jobs:d.value.jobs,labels:d.value.labels,uniq:d.value.uniq,"label-map":fe.value,"onRemove:rarity":e[4]||(e[4]=a=>d.value.rares=d.value.rares.filter(L=>L!==a)),"onRemove:job":e[5]||(e[5]=a=>d.value.jobs=d.value.jobs.filter(L=>L!==a)),"onRemove:label":e[6]||(e[6]=a=>d.value.labels=d.value.labels.filter(L=>L!==a)),"onUnset:uniq":e[7]||(e[7]=a=>d.value.uniq=!1)},null,8,["locale","rares","jobs","labels","uniq","label-map"]),x(u).loading?(c(),f("div",Ds,"Loading...")):x(u).error?(c(),f("div",Js,"Error: "+$(x(u).error),1)):(c(),f("div",Os,[s("div",Es,[(c(!0),f(j,null,I(Q.value,a=>(c(),f("button",{key:`${a.id}-${a.CoreLv}`,onClick:L=>se(a),class:"wiki-card group",title:`ID ${a.id} - Lv.${a.CoreLv}`},[s("div",Hs,[e[23]||(e[23]=s("img",{src:K,alt:"",class:"absolute inset-0 w-full h-full object-cover opacity-75 pointer-events-none select-none",draggable:"false"},null,-1)),s("img",{class:"w-full h-full object-contain relative z-10",src:Z(a),alt:"",loading:"lazy",draggable:"false"},null,8,Gs),e[24]||(e[24]=s("img",{src:de,alt:"",class:"absolute inset-0 w-full h-full object-contain pointer-events-none select-none core-glow","aria-hidden":"true",draggable:"false"},null,-1))]),s("div",Ks,[s("div",Xs,[s("span",{class:"opacity-90 text-sm font-medium truncate max-w-[90%]",title:H(a)},$(H(a)),9,Ys)])])],8,Ws))),128))]),s("div",Qs,[(c(!0),f(j,null,I(Q.value,a=>(c(),f("button",{key:`mobile-${a.id}-${a.CoreLv}`,onClick:L=>se(a),class:"wiki-card-mobile"},[s("div",et,[e[25]||(e[25]=s("img",{src:K,alt:"",class:"mobile-bg","aria-hidden":"true",draggable:"false"},null,-1)),s("img",{src:Z(a),alt:"",class:"mobile-thumb",loading:"lazy",draggable:"false"},null,8,st)]),s("div",tt,[s("p",lt,$(H(a)),1)])],8,Zs))),128))]),U(Pe,{"is-loading":ye.value,"has-next-page":te.value,onLoadMore:xe},null,8,["is-loading","has-next-page"])])),U(Ve,{open:x(b),mobile:x(A),"aria-label":"Core details",onClose:ge},{"header-left":G(()=>[x(b)&&N.value?(c(),f("div",at,[e[26]||(e[26]=s("span",{class:"level-label"},"Level",-1)),ae(s("input",{class:"level-range",type:"range",min:"1",max:"10",step:"1","onUpdate:modelValue":e[8]||(e[8]=a=>M.value=a),"aria-label":"Core level"},null,512),[[ie,M.value,void 0,{number:!0}]]),s("span",it,$(M.value),1)])):F("",!0)]),default:G(()=>[N.value?(c(),ue(is,{key:0,core:N.value,locale:x(g)},null,8,["core","locale"])):F("",!0)]),_:1},8,["open","mobile"]),U(Ss,{open:x(S),locale:x(g),rares:d.value.rares,"onUpdate:rares":e[9]||(e[9]=a=>d.value.rares=a),jobs:d.value.jobs,"onUpdate:jobs":e[10]||(e[10]=a=>d.value.jobs=a),labels:d.value.labels,"onUpdate:labels":e[11]||(e[11]=a=>d.value.labels=a),uniq:d.value.uniq,"onUpdate:uniq":e[12]||(e[12]=a=>d.value.uniq=a),onClose:e[13]||(e[13]=()=>x(i)(!1)),onReset:ve},null,8,["open","locale","rares","jobs","labels","uniq"])]))}},dt=X(nt,[["__scopeId","data-v-0dc182ed"]]);export{dt as default};
